<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>Tic Tac Toe</title>
  <script src="script.js"></script>
  <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <h1 class="header">Tic Tac Toe</h1>
    <div class="gameContainer">
      <div class="container" style="justify-content: center;">
        <div class="box bt-0 bl-0"><span class="boxtext"></span></div>
        <div class="box bt-0"><span class="boxtext"></span></div>
        <div class="box bt-0 br-0"><span class="boxtext"></span></div>
        <div class="box bl-0"><span class="boxtext"></span></div>
        <div class="box"><span class="boxtext"></span></div>
        <div class="box br-0"><span class="boxtext"></span></div>
        <div class="box bl-0 bb-0"><span class="boxtext"></span></div>
        <div class="box bb-0"><span class="boxtext"></span></div>
        <div class="box br-0 bb-0"><span class="boxtext"></span></div>
      </div>
      <div class="card card1 text-white bg-success mb-3" style="max-width: 18rem; margin-right: 20px;">
        <div class="card-header"><h1> Welocome to tic tac toe</h1>
        </div>
        <div class="card-body">
          <h5 class="card-title"><h1 class="info"> Game Run</h1></h5>
          <p class="card-text"><span class="turn"> Turn of X</span>
            <button>save</button></p>
        </div>
      </div>
      <div class="gameinfo">
        
        <div>
         
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <script>
    console.log('tic tac www')
    turn ="X";
    let gameover = false;
//turn
 const changeTurn =()=>{
    console.log(turn)
    if(turn === "X"){
      turn = "0";
    }else{
    turn = "X";
    }
  }
// function checkwin
const checkWin =()=>{
  let boxtexts = document.getElementsByClassName('boxtext');
let wins =[
      [0,1,2],
      [3,4,5],
      [6,7,8],
      [0,3,6],
      [1,4,7],
      [2,5,8],
      [0,4,8],
      [2,4,6]
        ];
        wins.forEach(e=>{
        if((boxtexts[e[0]].innerText === boxtexts[e[1]].innerText) && (boxtexts[e[2]].innerText === boxtexts[e[1]].innerText) && boxtexts[e[0]].innerText !== ""){
          document.querySelector('.info').innerText = boxtexts[e[0]].innerText +"==Won Game"
          gameover =true;
          if(gameover){
            timeout = setTimeout(boxtexts[e[0]].innerText == " ", 3000);
          }
        }
        })


}

//game logic-------------
let boxes =document.getElementsByClassName("box");
Array.from(boxes).forEach(element => { 
    let boxtext =element.querySelector('.boxtext');
console.log(boxtext)

    element.addEventListener('click',()=>{
      if(gameover==false){
        if(boxtext.innerText === ''){
            boxtext.innerText= turn;
            changeTurn();
            checkWin();
            document.getElementsByClassName('turn')[0].innerText ="Turn For "+turn;
            if(gameover==false){
          document.querySelector('.info').innerText =  "Stated Game!!"
            }
            if(boxtext !== ''){
            document.getElementsByClassName('turn')[0].innerText ="Game Over Lets Start Again";

            }
        }
      }
    })
})

  </script>
  </body>
</html>